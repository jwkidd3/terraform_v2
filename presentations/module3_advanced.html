<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Advanced Terraform Techniques</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/white.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/monokai.min.css">
    <style>
        /* Terraform Brand Colors */
        :root {
            --terraform-purple: #623ce4;
            --terraform-dark: #1e1e3f;
            --terraform-light: #f5f5ff;
            --accent-blue: #1e88e5;
            --accent-green: #4caf50;
            --accent-orange: #ff9800;
            --accent-red: #f44336;
            --enterprise-gold: #ffc107;
            --cloud-silver: #9e9e9e;
        }

        /* Global Reveal.js Overrides */
        .reveal {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-size: 34px;
            font-weight: 300;
            color: #2c3e50;
        }

        .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
            color: var(--terraform-purple);
            font-weight: 600;
            text-transform: none;
            line-height: 1.2;
        }

        .reveal h1 {
            font-size: 2.4em;
            text-shadow: 2px 2px 4px rgba(98, 60, 228, 0.3);
            margin-bottom: 0.3em;
        }

        .reveal h2 {
            font-size: 1.9em;
            margin-bottom: 0.3em;
        }

        .reveal h3 {
            font-size: 1.5em;
            margin-bottom: 0.3em;
        }

        .reveal h4 {
            font-size: 1.2em;
            color: var(--terraform-dark);
            margin-bottom: 0.2em;
        }

        /* Slide Layout - Fixed for content overflow */
        .reveal .slides section {
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            padding: 15px;
            box-sizing: border-box;
            overflow-y: auto;
            overflow-x: hidden;
            max-height: 100vh;
        }

        .reveal .title-slide {
            text-align: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--terraform-light) 0%, #e8e4ff 100%);
            color: var(--terraform-dark);
        }

        /* Typography - Optimized for dense content */
        .reveal p {
            margin: 0.4em 0;
            line-height: 1.4;
            font-size: 0.95em;
        }

        .reveal ul, .reveal ol {
            margin: 0.4em 0 0.4em 1em;
            line-height: 1.5;
            font-size: 0.9em;
        }

        .reveal li {
            margin: 0.25em 0;
        }

        /* Code Styling */
        .reveal code {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 4px 8px;
            color: var(--terraform-dark);
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }

        .reveal pre {
            background-color: #1e1e1e;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin: 1em 0;
            max-width: 100%;
            overflow: hidden;
        }

        .reveal pre code {
            background-color: transparent;
            border: none;
            padding: 12px;
            font-size: 0.65em;
            line-height: 1.25;
            color: #f8f8f2;
            max-height: 400px;
            overflow-y: auto;
            display: block;
        }

        /* Layout Components */
        .reveal .two-column {
            display: flex;
            gap: 40px;
            align-items: flex-start;
            margin: 1em 0;
        }

        .reveal .three-column {
            display: flex;
            gap: 30px;
            align-items: flex-start;
            margin: 1em 0;
        }

        .reveal .column {
            flex: 1;
            padding: 0;
            min-width: 0;
        }

        .reveal .column h4 {
            margin-top: 0;
            border-bottom: 2px solid var(--terraform-purple);
            padding-bottom: 0.3em;
        }

        /* Alert Boxes - Optimized for space */
        .reveal .highlight {
            background: linear-gradient(90deg, #fff3cd 0%, #fef7d9 100%);
            border-left: 4px solid var(--accent-orange);
            border-radius: 0 6px 6px 0;
            padding: 10px 12px;
            margin: 10px 0;
            box-shadow: 0 1px 3px rgba(255, 152, 0, 0.2);
            font-size: 0.9em;
        }

        .reveal .danger {
            background: linear-gradient(90deg, #f8d7da 0%, #fce4e6 100%);
            border-left: 4px solid var(--accent-red);
            border-radius: 0 6px 6px 0;
            padding: 10px 12px;
            margin: 10px 0;
            box-shadow: 0 1px 3px rgba(244, 67, 54, 0.2);
            font-size: 0.9em;
        }

        .reveal .success {
            background: linear-gradient(90deg, #d1ecf1 0%, #ddf2f7 100%);
            border-left: 4px solid var(--accent-blue);
            border-radius: 0 6px 6px 0;
            padding: 10px 12px;
            margin: 10px 0;
            box-shadow: 0 1px 3px rgba(30, 136, 229, 0.2);
            font-size: 0.9em;
        }

        .reveal .info {
            background: linear-gradient(90deg, #d4edda 0%, #e2f5e7 100%);
            border-left: 4px solid var(--accent-green);
            border-radius: 0 6px 6px 0;
            padding: 10px 12px;
            margin: 10px 0;
            box-shadow: 0 1px 3px rgba(76, 175, 80, 0.2);
            font-size: 0.9em;
        }

        .reveal .enterprise {
            background: linear-gradient(135deg, #e7e3ff 0%, #f0edff 100%);
            border-left: 4px solid var(--terraform-purple);
            border-radius: 0 6px 6px 0;
            padding: 10px 12px;
            margin: 10px 0;
            box-shadow: 0 1px 3px rgba(98, 60, 228, 0.3);
            position: relative;
            font-size: 0.9em;
        }

        .reveal .enterprise::before {
            content: "üè¢";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.2em;
        }

        .reveal .terraform-brand {
            background: linear-gradient(135deg, var(--terraform-purple) 0%, #7c4dff 100%);
            border-radius: 6px;
            padding: 12px 15px;
            margin: 10px 0;
            color: white;
            font-size: 0.9em;
        }

        /* Section Dividers */
        .reveal .section-divider {
            background: linear-gradient(90deg, var(--terraform-purple) 0%, #7c4dff 100%);
            color: white;
            text-align: center;
            padding: 20px 15px;
            border-radius: 10px;
            margin: 10px 0;
        }

        .reveal .section-divider h2 {
            color: white;
            margin: 0;
            font-size: 2.5em;
        }

        /* Cloud Provider Styling */
        .reveal .aws-theme {
            border-left: 6px solid #ff9900;
            background: linear-gradient(90deg, #fff5e6 0%, #fff9f0 100%);
        }

        .reveal .azure-theme {
            border-left: 6px solid #0078d4;
            background: linear-gradient(90deg, #e6f3ff 0%, #f0f8ff 100%);
        }

        .reveal .gcp-theme {
            border-left: 6px solid #4285f4;
            background: linear-gradient(90deg, #e8f0fe 0%, #f3f7ff 100%);
        }

        /* Tables */
        .reveal table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.85em;
        }

        .reveal table th,
        .reveal table td {
            border: 1px solid #ddd;
            padding: 12px 16px;
            text-align: left;
        }

        .reveal table th {
            background-color: var(--terraform-purple);
            color: white;
            font-weight: 600;
        }

        .reveal table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        /* Lists */
        .reveal .checklist li::marker {
            content: "‚úÖ ";
        }

        .reveal .warning-list li::marker {
            content: "‚ö†Ô∏è ";
        }

        .reveal .feature-list li::marker {
            content: "üöÄ ";
        }

        .reveal .enterprise-list li::marker {
            content: "üè¢ ";
        }

        /* Progress Indicators */
        .reveal .progress-bar {
            background-color: #e9ecef;
            border-radius: 4px;
            height: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .reveal .progress-fill {
            background: linear-gradient(90deg, var(--terraform-purple) 0%, #7c4dff 100%);
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Custom Components */
        .reveal .terraform-logo {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: var(--terraform-purple);
            border-radius: 6px;
            margin-right: 12px;
            vertical-align: middle;
        }

        .reveal .code-block-title {
            background-color: var(--terraform-dark);
            color: white;
            padding: 8px 16px;
            margin: 20px 0 0 0;
            border-radius: 6px 6px 0 0;
            font-size: 0.8em;
            font-weight: 600;
        }

        .reveal .code-block-title + pre {
            margin-top: 0;
            border-radius: 0 0 8px 8px;
        }

        /* Multi-cloud specific styling */
        .reveal .multi-cloud-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .reveal .cloud-card {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .reveal .cloud-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .reveal .aws-card {
            border-color: #ff9900;
            background: linear-gradient(135deg, #fff5e6 0%, #ffffff 100%);
        }

        .reveal .azure-card {
            border-color: #0078d4;
            background: linear-gradient(135deg, #e6f3ff 0%, #ffffff 100%);
        }

        .reveal .gcp-card {
            border-color: #4285f4;
            background: linear-gradient(135deg, #e8f0fe 0%, #ffffff 100%);
        }

        /* Enhanced Responsive Design for Better Screen Fit */
        @media screen and (max-width: 1600px) {
            .reveal {
                font-size: 32px;
            }
            .reveal h1 { font-size: 2.2em; }
            .reveal h2 { font-size: 1.8em; }
            .reveal h3 { font-size: 1.4em; }
        }

        @media screen and (max-width: 1400px) {
            .reveal {
                font-size: 30px;
            }
            .reveal h1 { font-size: 2em; }
            .reveal h2 { font-size: 1.7em; }
            .reveal h3 { font-size: 1.3em; }
        }

        @media screen and (max-width: 1024px) {
            .reveal {
                font-size: 28px;
            }
            
            .reveal .two-column,
            .reveal .three-column,
            .reveal .multi-cloud-grid {
                flex-direction: column;
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .reveal pre code {
                font-size: 0.6em;
                max-height: 350px;
            }
            
            .reveal .slides section {
                padding: 10px;
            }
        }

        @media screen and (max-width: 768px) {
            .reveal .two-column,
            .reveal .three-column,
            .reveal .multi-cloud-grid {
                flex-direction: column;
                grid-template-columns: 1fr;
            }
            
            .reveal {
                font-size: 28px;
            }
            
            .reveal h1 {
                font-size: 2.2em;
            }
            
            .reveal h2 {
                font-size: 1.8em;
            }
            
            .reveal h3 {
                font-size: 1.4em;
            }
            
            .reveal pre code {
                font-size: 0.6em;
                max-height: 450px;
                padding: 15px;
            }
            
            .reveal .slides section {
                padding: 10px;
            }
        }

        /* Content overflow prevention */
        .reveal section {
            overflow-x: auto;
            overflow-y: auto;
        }
        
        .reveal pre {
            max-width: 100%;
            overflow-x: auto;
        }
        
        .reveal table {
            font-size: 0.75em;
            overflow-x: auto;
            display: block;
            white-space: nowrap;
        }

        /* Scrollbar styling for better visibility */
        .reveal ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        .reveal ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .reveal ::-webkit-scrollbar-thumb {
            background: var(--terraform-purple);
            border-radius: 4px;
            opacity: 0.7;
        }
        
        .reveal ::-webkit-scrollbar-thumb:hover {
            opacity: 1;
        }

        /* Dense content slides - special handling */
        .reveal .dense-content {
            font-size: 0.85em;
        }
        
        .reveal .dense-content h2 {
            font-size: 1.6em;
            margin-bottom: 0.2em;
        }
        
        .reveal .dense-content h3 {
            font-size: 1.3em;
            margin-bottom: 0.2em;
        }
        
        .reveal .dense-content ul, 
        .reveal .dense-content ol {
            margin: 0.3em 0 0.3em 0.8em;
            line-height: 1.3;
        }
        
        .reveal .dense-content li {
            margin: 0.2em 0;
            font-size: 0.9em;
        }
        
        .reveal .dense-content pre code {
            font-size: 0.6em;
            max-height: 350px;
            padding: 10px;
            line-height: 1.2;
        }

        /* Animation Classes */
        .reveal .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Advanced Terraform specific styles */
        .reveal .architecture-diagram {
            background: white;
            border: 2px solid var(--terraform-purple);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .reveal .workflow-step {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 25px;
            margin: 5px;
            font-weight: 600;
            color: white;
            position: relative;
        }

        .reveal .step-1 { background-color: var(--terraform-purple); }
        .reveal .step-2 { background-color: var(--accent-orange); }
        .reveal .step-3 { background-color: var(--accent-blue); }
        .reveal .step-4 { background-color: var(--accent-green); }

        .reveal .workflow-arrow {
            font-size: 24px;
            margin: 0 10px;
            color: var(--terraform-dark);
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- Title Slide -->
            <section class="title-slide">
                <div class="terraform-logo"></div>
                <h1>Module 3: Terraform Cloud Enterprise Mastery</h1>
                <h2>From Basics to Enterprise-Grade Infrastructure Management</h2>
                <div class="progress-bar" style="width: 300px; margin: 30px auto;">
                    <div class="progress-fill" style="width: 100%;"></div>
                </div>
                <p><strong>Course Structure:</strong> Day 3 of 3 - Terraform Cloud Focus</p>
                <p><strong>Focus:</strong> Complete Terraform Cloud Enterprise Journey</p>
                <p><strong>üìä 70% Hands-on | 30% Theory</strong></p>
                <div class="terraform-brand" style="margin: 20px auto; max-width: 700px;">
                    <p>üèÜ <strong>Learning Journey:</strong> Introduction ‚Üí Teams & Workspaces ‚Üí Policies & Registry ‚Üí Enterprise Integration</p>
                </div>
            </section>

            <!-- Learning Objectives -->
            <section>
                <div class="section-divider">
                    <h2>üéØ Terraform Cloud Mastery Learning Path</h2>
                </div>
                <div class="terraform-brand">
                    <h3>üöÄ Complete Terraform Cloud Enterprise Journey</h3>
                    <p>Master advanced Terraform Cloud enterprise features through 4 sophisticated hands-on labs covering workspaces, policies, and governance.</p>
                </div>
                <div class="two-column">
                    <div class="column">
                        <h4>‚òÅÔ∏è Terraform Cloud Fundamentals</h4>
                        <ul class="enterprise-list">
                            <li>Create Terraform Cloud accounts and organizations</li>
                            <li>Master remote state migration and management</li>
                            <li>Configure workspace variables and environment settings</li>
                            <li>Execute remote runs and understand cloud workflows</li>
                            <li>Understand core benefits over local execution</li>
                        </ul>
                        <h4>üë• Teams & Collaboration</h4>
                        <ul class="enterprise-list">
                            <li>Create and manage teams with role-based access control</li>
                            <li>Design multi-environment workspace strategies</li>
                            <li>Implement variable sets for shared configuration</li>
                            <li>Configure run triggers for automated workflows</li>
                        </ul>
                    </div>
                    <div class="column">
                        <h4>üîí Governance & Policies</h4>
                        <ul class="feature-list">
                            <li>Implement Sentinel policies for cost control</li>
                            <li>Create compliance rules and naming conventions</li>
                            <li>Set up cost estimation and budget monitoring</li>
                            <li>Design policy enforcement frameworks</li>
                        </ul>
                        <h4>üì¶ Private Registry & Modules</h4>
                        <ul class="feature-list">
                            <li>Create and publish reusable infrastructure modules</li>
                            <li>Implement module versioning and release management</li>
                            <li>Build enterprise module libraries</li>
                            <li>Deploy complete enterprise integrations</li>
                        </ul>
                    </div>
                </div>
                <div class="enterprise">
                    <h4>üèÜ Career Impact</h4>
                    <p>Advance from intermediate Terraform Cloud usage to enterprise-grade features, gaining the expertise to implement production-ready infrastructure management at scale with advanced governance, team collaboration, and policy automation.</p>
                </div>
            </section>

            <!-- Section 1: Introduction to Terraform Cloud -->
            <section>
                <section class="section-divider">
                    <h2>‚òÅÔ∏è Section 1: Introduction to Terraform Cloud</h2>
                    <p>Understand the benefits and get started with remote state and execution</p>
                </section>

                <section>
                    <h3>Why Terraform Cloud?</h3>
                    <div class="two-column">
                        <div class="column">
                            <h4>üè† Local Terraform Challenges</h4>
                            <ul style="font-size: 0.85em;">
                                <li><strong>State Management:</strong> Manual state file sharing</li>
                                <li><strong>Security:</strong> Credentials on local machines</li>
                                <li><strong>Collaboration:</strong> No team coordination</li>
                                <li><strong>Consistency:</strong> Different execution environments</li>
                                <li><strong>Audit Trail:</strong> No history or logging</li>
                                <li><strong>Access Control:</strong> No permission management</li>
                            </ul>
                        </div>
                        <div class="column">
                            <h4>‚òÅÔ∏è Terraform Cloud Benefits</h4>
                            <ul style="font-size: 0.85em;">
                                <li><strong>Remote State:</strong> Automatic locking and versioning</li>
                                <li><strong>Secure Variables:</strong> Centralized credential management</li>
                                <li><strong>Team Workflows:</strong> Built-in collaboration features</li>
                                <li><strong>Consistent Runs:</strong> Standardized execution environment</li>
                                <li><strong>Complete History:</strong> Full audit and run logs</li>
                                <li><strong>RBAC:</strong> Role-based access control</li>
                            </ul>
                        </div>
                    </div>
                    <div class="enterprise">
                        <strong>Enterprise Impact:</strong> Terraform Cloud transforms infrastructure management from individual tasks to collaborative, secure, and scalable team workflows.
                    </div>
                </section>

                <section>
                    <h3>Terraform Cloud Architecture</h3>
                    <div class="architecture-diagram">
                        <h4>üè¢ Organization Structure</h4>
                        <div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
                            <div class="workflow-step step-1">Organization</div>
                            <span class="workflow-arrow">‚Üí</span>
                            <div class="workflow-step step-2">Teams</div>
                            <span class="workflow-arrow">‚Üí</span>
                            <div class="workflow-step step-3">Workspaces</div>
                            <span class="workflow-arrow">‚Üí</span>
                            <div class="workflow-step step-4">Runs</div>
                        </div>
                    </div>
                    <div class="two-column">
                        <div class="column">
                            <h4>üèóÔ∏è Core Components</h4>
                            <ul>
                                <li><strong>Organization:</strong> Top-level container for your infrastructure</li>
                                <li><strong>Workspaces:</strong> Individual infrastructure configurations</li>
                                <li><strong>Teams:</strong> Groups of users with specific permissions</li>
                                <li><strong>Variables:</strong> Environment and Terraform variables</li>
                            </ul>
                        </div>
                        <div class="column">
                            <h4>üîÑ Workflow Process</h4>
                            <ul>
                                <li><strong>Plan:</strong> Generate and review execution plan</li>
                                <li><strong>Apply:</strong> Execute infrastructure changes</li>
                                <li><strong>State:</strong> Track resource state remotely</li>
                                <li><strong>Runs:</strong> Complete history of all operations</li>
                            </ul>
                        </div>
                    </div>
                </section>

            </section>

            <!-- Lab 9 Callout -->
            <section class="lab-callout" data-background-color="#623ce4">
                <h2><span class="emoji">üóÇÔ∏è</span> Lab 9: Terraform Cloud Integration and Remote Execution</h2>
                <div class="lab-info">
                    <h3>üéØ What You'll Learn</h3>
                    <ul>
                        <li>Deploy complete application stack with Terraform Cloud</li>
                        <li>Configure advanced workspace settings and variables</li>
                        <li>Implement remote execution with VCS integration</li>
                        <li>Use enterprise features: cost estimation, collaboration</li>
                        <li>Master production-ready Terraform Cloud workflows</li>
                    </ul>
                    <div class="lab-highlight">
                        <h3>‚è±Ô∏è Duration: 45 minutes</h3>
                        <p><strong>Focus:</strong> Get hands-on experience with Terraform Cloud fundamentals</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Teams and Workspace Management -->
            <section>
                <section class="section-divider">
                    <h2>üë• Section 2: Teams and Workspace Management</h2>
                    <p>Master collaboration, RBAC, and multi-environment strategies</p>
                </section>

                <section>
                    <h3>Team-Based Access Control</h3>
                    <pre><code class="language-hcl"># Multi-region AWS configuration
provider "aws" {
  alias  = "us_east"
  region = "us-east-2"
}

provider "aws" {
  alias  = "eu_west"
  region = "eu-west-1"
}

# Azure configuration
provider "azurerm" {
  features {}
  subscription_id = var.azure_subscription_id
}

# Google Cloud configuration
provider "google" {
  project = var.gcp_project_id
  region  = var.gcp_region
}</code></pre>
                    <div class="info">
                        <strong>Best Practice:</strong> Use provider aliases for multi-region deployments and separate authentication contexts.
                    </div>
                </section>

                <section>
                    <h3>Cross-Cloud Resource Dependencies</h3>
                    <pre><code class="language-hcl"># AWS S3 bucket for shared data
resource "aws_s3_bucket" "shared_data" {
  provider = aws.us_east
  bucket   = "${var.project_name}-shared-data-${random_id.suffix.hex}"
}

# Azure storage account that references AWS data
resource "azurerm_storage_account" "backup" {
  name                     = "${var.project_name}backup${random_id.suffix.hex}"
  resource_group_name      = azurerm_resource_group.main.name
  location                 = azurerm_resource_group.main.location
  account_tier             = "Standard"
  account_replication_type = "GRS"
  
  tags = {
    primary_backup_source = aws_s3_bucket.shared_data.id
  }
}

# GCP function that processes data from both clouds
resource "google_cloudfunctions_function" "data_processor" {
  name        = "${var.project_name}-processor"
  description = "Processes data from AWS and Azure"
  runtime     = "python39"
  
  environment_variables = {
    AWS_S3_BUCKET    = aws_s3_bucket.shared_data.id
    AZURE_STORAGE    = azurerm_storage_account.backup.name
  }
}</code></pre>
                </section>

                <section>
                    <h3>Hybrid Cloud Connectivity</h3>
                    <pre><code class="language-hcl"># AWS VPC with VPN gateway
resource "aws_vpc" "main" {
  cidr_block           = "10.0.0.0/16"
  enable_dns_hostnames = true
  enable_dns_support   = true
}

resource "aws_vpn_gateway" "main" {
  vpc_id = aws_vpc.main.id
  
  tags = {
    Name = "main-vpn-gateway"
  }
}

# Azure VNet with VPN gateway
resource "azurerm_virtual_network" "main" {
  name                = "${var.project_name}-vnet"
  address_space       = ["10.1.0.0/16"]
  location            = azurerm_resource_group.main.location
  resource_group_name = azurerm_resource_group.main.name
}

resource "azurerm_virtual_network_gateway" "main" {
  name                = "${var.project_name}-vnet-gateway"
  location            = azurerm_resource_group.main.location
  resource_group_name = azurerm_resource_group.main.name
  type                = "Vpn"
  vpn_type            = "RouteBased"
  active_active       = false
  enable_bgp          = false
  sku                 = "VpnGw1"
}</code></pre>
                </section>
            </section>

            <!-- Lab 9 Callout -->
            <section class="lab-callout" data-background-color="#623ce4">
                <div style="text-align: center; color: white;">
                    <h1><span class="emoji">üè¢</span> Enterprise Workspace Management!</h1>
                    <h2><span class="emoji">‚òÅÔ∏è</span> Lab 10: Advanced Terraform Cloud Workspaces and Team Management</h2>
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px; margin: 20px 0;">
                        <h3>üéØ What You'll Master:</h3>
                        <ul style="font-size: 1.0em; line-height: 1.4;">
                            <li>‚úÖ Multi-environment workspace architecture</li>
                            <li>‚úÖ Enterprise team management with RBAC</li>
                            <li>‚úÖ Advanced networking and auto scaling</li>
                            <li>‚úÖ Governance workflows and automation</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,193,7,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #ffc107;">
                        <p style="font-size: 1.2em; margin: 0;"><strong>‚è±Ô∏è Duration: 45 minutes</strong></p>
                        <p style="font-size: 1.0em; margin: 8px 0 0 0;">Build enterprise workspace management!</p>
                    </div>
                    <h2 style="margin-top: 20px; font-size: 1.8em;">üè¢ Master Enterprise Workspaces!</h2>
                </div>
            </section>

            <!-- Section 2: Advanced State Management -->
            <section>
                <section>
                    <h2>Section 2: Advanced State Management</h2>
                </section>

                <section>
                    <h3>State Isolation Strategies</h3>
                    <div class="two-column">
                        <div class="column">
                            <h4>By Environment</h4>
                            <pre><code class="language-text">state/
‚îú‚îÄ‚îÄ dev/
‚îÇ   ‚îî‚îÄ‚îÄ terraform.tfstate
‚îú‚îÄ‚îÄ staging/
‚îÇ   ‚îî‚îÄ‚îÄ terraform.tfstate
‚îî‚îÄ‚îÄ production/
    ‚îî‚îÄ‚îÄ terraform.tfstate</code></pre>
                        </div>
                        <div class="column">
                            <h4>By Component</h4>
                            <pre><code class="language-text">state/
‚îú‚îÄ‚îÄ network/
‚îÇ   ‚îî‚îÄ‚îÄ terraform.tfstate
‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îî‚îÄ‚îÄ terraform.tfstate
‚îî‚îÄ‚îÄ applications/
    ‚îî‚îÄ‚îÄ terraform.tfstate</code></pre>
                        </div>
                    </div>
                    <div class="enterprise">
                        <strong>Enterprise Pattern:</strong> Combine both strategies - separate by component AND environment for maximum isolation and parallel development.
                    </div>
                </section>

                <section>
                    <h3>Terraform Workspaces Advanced Usage</h3>
                    <pre><code class="language-hcl"># Workspace-aware configuration
locals {
  workspace_config = {
    dev = {
      instance_type = "t2.micro"
      min_size      = 1
      max_size      = 2
    }
    staging = {
      instance_type = "t3.small"
      min_size      = 2
      max_size      = 4
    }
    production = {
      instance_type = "t3.large"
      min_size      = 3
      max_size      = 10
    }
  }
  
  current_config = local.workspace_config[terraform.workspace]
}

resource "aws_instance" "web" {
  count         = local.current_config.min_size
  ami           = data.aws_ami.ubuntu.id
  instance_type = local.current_config.instance_type
  
  tags = {
    Name        = "${terraform.workspace}-web-${count.index + 1}"
    Environment = terraform.workspace
  }
}</code></pre>
                </section>

                <section>
                    <h3>Remote State with Locking</h3>
                    <pre><code class="language-hcl"># S3 backend with DynamoDB locking
terraform {
  backend "s3" {
    bucket         = "company-terraform-state"
    key            = "infrastructure/production/terraform.tfstate"
    region         = "us-east-2"
    encrypt        = true
    dynamodb_table = "terraform-state-lock"
    
    # Additional security
    kms_key_id = "alias/terraform-state-key"
    
    # Workspace support
    workspace_key_prefix = "workspaces"
  }
}

# State file versioning and backup
resource "aws_s3_bucket_versioning" "terraform_state" {
  bucket = aws_s3_bucket.terraform_state.id
  versioning_configuration {
    status = "Enabled"
  }
}

resource "aws_s3_bucket_lifecycle_configuration" "terraform_state" {
  bucket = aws_s3_bucket.terraform_state.id
  
  rule {
    id     = "state_file_lifecycle"
    status = "Enabled"
    
    noncurrent_version_expiration {
      noncurrent_days = 30
    }
  }
}</code></pre>
                </section>

                <section>
                    <h3>State Import and Migration</h3>
                    <pre><code class="language-bash"># Import existing resources
terraform import aws_instance.web i-1234567890abcdef0
terraform import aws_security_group.web sg-12345678

# State manipulation commands
terraform state list
terraform state show aws_instance.web
terraform state mv aws_instance.web aws_instance.web_server
terraform state rm aws_instance.deprecated

# Migrate state between backends
terraform init -migrate-state

# Force unlock state (use with caution)
terraform force-unlock LOCK_ID</code></pre>
                    <div class="danger">
                        <strong>Warning:</strong> State manipulation should only be performed by experienced operators with proper backups.
                    </div>
                </section>
            </section>

            <!-- Lab 11 Callout -->
            <section class="lab-callout" data-background-color="#dc3545">
                <div style="text-align: center; color: white;">
                    <h1><span class="emoji">üõ°Ô∏è</span> Policy & Governance Mastery!</h1>
                    <h2><span class="emoji">üìã</span> Lab 11: Advanced Governance with Policies and Private Registry</h2>
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px; margin: 20px 0;">
                        <h3>üéØ What You'll Master:</h3>
                        <ul style="font-size: 1.0em; line-height: 1.4;">
                            <li>‚úÖ Sophisticated Sentinel policy implementation</li>
                            <li>‚úÖ Enterprise-grade private module registry</li>
                            <li>‚úÖ Policy-as-code governance and compliance</li>
                            <li>‚úÖ Cost governance and automated validation</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,193,7,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #ffc107;">
                        <p style="font-size: 1.2em; margin: 0;"><strong>‚è±Ô∏è Duration: 45 minutes</strong></p>
                        <p style="font-size: 1.1em; margin: 10px 0 0 0;">Master team collaboration with Terraform Cloud!</p>
                    </div>
                    <h2 style="margin-top: 30px; font-size: 2em;">üîí Secure and Govern!</h2>
                </div>
            </section>

            <!-- Section 3: CI/CD Integration -->
            <section>
                <section>
                    <h2>Section 3: CI/CD Integration and Automation</h2>
                </section>

                <section>
                    <h3>GitOps Workflow with Terraform</h3>
                    <div style="text-align: center;">
                        <div style="display: inline-block; padding: 10px 20px; background: #623ce4; color: white; border-radius: 5px; margin: 5px;">Code Push</div>
                        <span style="font-size: 16px;">‚Üí</span>
                        <div style="display: inline-block; padding: 10px 20px; background: #ff9900; color: white; border-radius: 5px; margin: 5px;">CI Pipeline</div>
                        <span style="font-size: 16px;">‚Üí</span>
                        <div style="display: inline-block; padding: 10px 20px; background: #17a2b8; color: white; border-radius: 5px; margin: 5px;">Plan Review</div>
                        <span style="font-size: 16px;">‚Üí</span>
                        <div style="display: inline-block; padding: 10px 20px; background: #28a745; color: white; border-radius: 5px; margin: 5px;">Auto Deploy</div>
                    </div>
                    <div class="info">
                        <h4>Key Principles:</h4>
                        <ul>
                            <li><strong>Infrastructure as Code:</strong> All changes through version control</li>
                            <li><strong>Plan Review:</strong> Human approval for production changes</li>
                            <li><strong>Automated Testing:</strong> Validate changes before deployment</li>
                            <li><strong>Rollback Capability:</strong> Quick recovery from issues</li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h3>Advanced CI/CD Pipeline Configuration</h3>
                    <pre><code class="language-yaml"># .github/workflows/terraform-enterprise.yml
name: 'Enterprise Terraform Pipeline'

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  TF_VERSION: '1.5.7'
  TF_IN_AUTOMATION: 'true'
  
jobs:
  validate:
    name: 'Validate and Test'
    runs-on: ubuntu-latest
    strategy:
      matrix:
        environment: [dev, staging, production]
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Terraform
      uses: hashicorp/setup-terraform@v2
      with:
        terraform_version: ${{ env.TF_VERSION }}
    
    - name: Terraform Format Check
      run: terraform fmt -check -recursive
    
    - name: Terraform Validation
      run: |
        terraform init -backend=false
        terraform validate
    
    - name: Security Scan
      uses: aquasecurity/tfsec-action@v1.0.0
      
    - name: Policy Check
      run: |
        conftest verify --policy policies/ --data environments/${{ matrix.environment }}.json plan.json</code></pre>
                </section>

                <section>
                    <h3>Automated Testing Strategies</h3>
                    <div class="two-column">
                        <div class="column">
                            <h4>Static Testing</h4>
                            <ul>
                                <li><strong>terraform validate</strong> - Syntax validation</li>
                                <li><strong>terraform plan</strong> - Configuration validation</li>
                                <li><strong>tfsec</strong> - Security scanning</li>
                                <li><strong>checkov</strong> - Policy compliance</li>
                                <li><strong>tflint</strong> - Linting rules</li>
                            </ul>
                        </div>
                        <div class="column">
                            <h4>Dynamic Testing</h4>
                            <ul>
                                <li><strong>Terratest</strong> - Integration testing</li>
                                <li><strong>Kitchen-Terraform</strong> - Test Kitchen integration</li>
                                <li><strong>Atlantis</strong> - Pull request automation</li>
                                <li><strong>Terraform Cloud</strong> - Managed testing</li>
                                <li><strong>Custom scripts</strong> - Business logic validation</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <h3>Blue-Green Deployment with Terraform</h3>
                    <pre><code class="language-hcl"># Blue-green deployment configuration
variable "deployment_color" {
  description = "Current deployment color (blue or green)"
  type        = string
  default     = "blue"
  
  validation {
    condition     = contains(["blue", "green"], var.deployment_color)
    error_message = "Deployment color must be blue or green."
  }
}

locals {
  inactive_color = var.deployment_color == "blue" ? "green" : "blue"
}

# Create both blue and green environments
module "blue_environment" {
  source = "./modules/application"
  
  environment_name = "blue"
  instance_count   = var.deployment_color == "blue" ? var.instance_count : 0
  
  tags = {
    Color  = "blue"
    Active = var.deployment_color == "blue" ? "true" : "false"
  }
}

module "green_environment" {
  source = "./modules/application"
  
  environment_name = "green"  
  instance_count   = var.deployment_color == "green" ? var.instance_count : 0
  
  tags = {
    Color  = "green"
    Active = var.deployment_color == "green" ? "true" : "false"
  }
}</code></pre>
                </section>
            </section>

            <!-- Lab 11 Callout -->
            <section class="lab-callout" data-background-color="#6f42c1">
                <div style="text-align: center; color: white;">
                    <h1><span class="emoji">üìö</span> Private Registry Excellence!</h1>
                    <h2><span class="emoji">üì¶</span> Lab 11: Advanced Governance with Policies and Private Registry</h2>
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px; margin: 20px 0;">
                        <h3>üéØ What You'll Master:</h3>
                        <ul style="font-size: 1.0em; line-height: 1.4;">
                            <li>‚úÖ Connect GitHub repository to Terraform Cloud</li>
                            <li>‚úÖ Implement VCS-driven deployment workflows</li>
                            <li>‚úÖ Configure branch-based environments</li>
                            <li>‚úÖ Set up PR checks and approval gates</li>
                            <li>‚úÖ Create complete GitOps pipeline</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,193,7,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #ffc107;">
                        <p style="font-size: 1.2em; margin: 0;"><strong>‚è±Ô∏è Duration: 45 minutes</strong></p>
                        <p style="font-size: 1.0em; margin: 8px 0 0 0;">Implement enterprise governance!</p>
                    </div>
                    <h2 style="margin-top: 20px; font-size: 1.8em;">üìö Master Enterprise Governance!</h2>
                </div>
            </section>

            <!-- Section 4: Policy as Code and Governance -->
            <section>
                <section>
                    <h2>Section 4: Policy as Code and Governance</h2>
                </section>

                <section>
                    <h3>Open Policy Agent (OPA) Integration</h3>
                    <pre><code class="language-rego"># security-policies.rego
package terraform.security

import future.keywords.in

# Require specific tags on all resources
required_tags := ["Environment", "Owner", "CostCenter"]

deny[msg] {
    resource := input.planned_values.root_module.resources[_]
    resource.type in ["aws_instance", "aws_s3_bucket", "aws_rds_instance"]
    
    missing_tags := [tag | 
        tag := required_tags[_]
        not resource.values.tags[tag]
    ]
    
    count(missing_tags) > 0
    msg := sprintf("Resource %s missing required tags: %v", 
        [resource.address, missing_tags])
}

# Deny overly permissive security groups
deny[msg] {
    resource := input.planned_values.root_module.resources[_]
    resource.type == "aws_security_group"
    
    rule := resource.values.ingress[_]
    rule.cidr_blocks[_] == "0.0.0.0/0"
    rule.from_port <= 22
    rule.to_port >= 22
    
    msg := sprintf("Security group %s allows SSH from 0.0.0.0/0", 
        [resource.address])
}</code></pre>
                </section>

                <section>
                    <h3>Cost Control Policies</h3>
                    <pre><code class="language-rego"># cost-control.rego
package terraform.cost

import future.keywords.in

# Define instance type costs (simplified example)
instance_costs := {
    "t2.nano":   5,
    "t2.micro":  10,
    "t2.small":  20,
    "t3.medium": 40,
    "t3.large":  80,
    "t3.xlarge": 160
}

# Warn about expensive instances
warn[msg] {
    resource := input.planned_values.root_module.resources[_]
    resource.type == "aws_instance"
    
    cost := instance_costs[resource.values.instance_type]
    cost > 50
    
    msg := sprintf("Instance %s uses expensive type %s ($%d/month)", 
        [resource.address, resource.values.instance_type, cost])
}

# Deny deployment if total cost exceeds budget
budget_limit := 1000

deny[msg] {
    total_cost := sum([
        instance_costs[resource.values.instance_type] |
        resource := input.planned_values.root_module.resources[_]
        resource.type == "aws_instance"
    ])
    
    total_cost > budget_limit
    msg := sprintf("Total deployment cost $%d exceeds budget of $%d", 
        [total_cost, budget_limit])
}</code></pre>
                </section>

                <section>
                    <h3>Compliance and Audit Frameworks</h3>
                    <pre><code class="language-hcl"># Compliance module for SOC 2 requirements
module "compliance_logging" {
  source = "./modules/compliance"
  
  # Enable comprehensive logging
  enable_cloudtrail     = true
  enable_vpc_flow_logs  = true
  enable_config_rules   = true
  
  # Encryption requirements
  enforce_encryption_at_rest = true
  enforce_encryption_in_transit = true
  
  # Access control
  require_mfa_for_admin = true
  password_policy = {
    minimum_length                   = 14
    require_lowercase_characters    = true
    require_uppercase_characters    = true
    require_numbers                 = true
    require_symbols                 = true
    max_password_age               = 90
    password_reuse_prevention      = 12
  }
  
  tags = {
    Compliance = "SOC2"
    DataClass  = "confidential"
  }
}</code></pre>
                </section>

                <section>
                    <h3>Resource Tagging Strategy</h3>
                    <pre><code class="language-hcl"># Comprehensive tagging strategy
locals {
  # Standard tags applied to all resources
  standard_tags = {
    # Identity
    Environment = var.environment
    Project     = var.project_name
    Owner       = var.team_name
    
    # Operations
    ManagedBy   = "Terraform"
    Repository  = var.git_repository
    Deployment  = var.deployment_id
    
    # Cost management
    CostCenter  = var.cost_center
    Budget      = var.budget_code
    
    # Compliance
    DataClass   = var.data_classification
    Compliance  = join(",", var.compliance_frameworks)
    
    # Lifecycle
    CreatedDate = formatdate("YYYY-MM-DD", timestamp())
    Backup      = var.backup_required ? "daily" : "none"
  }
}

# Apply tags automatically using provider default tags
provider "aws" {
  default_tags {
    tags = local.standard_tags
  }
}</code></pre>
                </section>
            </section>

            <!-- Lab 12 Callout -->
            <section class="lab-callout" data-background-color="#fd7e14">
                <div style="text-align: center; color: white;">
                    <h1><span class="emoji">üîó</span> GitOps Excellence!</h1>
                    <h2><span class="emoji">üíô</span> Lab 12: GitHub-Triggered Terraform Cloud Deployments</h2>
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 15px; margin: 15px 0;">
                        <h3>üéØ Final Integration - What You'll Master:</h3>
                        <ul style="font-size: 1.0em; line-height: 1.4;">
                            <li>‚úÖ Connect GitHub repository to Terraform Cloud</li>
                            <li>‚úÖ Implement VCS-driven deployment workflows</li>
                            <li>‚úÖ Configure branch-based environments</li>
                            <li>‚úÖ Set up PR checks and approval gates</li>
                            <li>‚úÖ Create complete GitOps pipeline</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255,193,7,0.2); padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 5px solid #ffc107;">
                        <p style="font-size: 1.1em; margin: 0;"><strong>‚è±Ô∏è Duration: 45 minutes</strong></p>
                        <p style="font-size: 1.0em; margin: 8px 0 0 0;">Modern GitOps workflow implementation!</p>
                    </div>
                    <h2 style="margin-top: 20px; font-size: 1.8em;">üèÜ Complete Your Journey!</h2>
                </div>
            </section>

            <!-- Section 5: Performance and Scaling -->
            <section>
                <section>
                    <h2>Section 5: Performance Optimization and Scaling</h2>
                </section>

                <section>
                    <h3>Large-Scale Terraform Optimization</h3>
                    <div class="two-column">
                        <div class="column">
                            <h4>State Management</h4>
                            <ul>
                                <li>Split state files by component</li>
                                <li>Use terraform workspaces judiciously</li>
                                <li>Implement state locking</li>
                                <li>Regular state file cleanup</li>
                            </ul>
                        </div>
                        <div class="column">
                            <h4>Resource Planning</h4>
                            <ul>
                                <li>Use -target for specific resources</li>
                                <li>Implement resource parallelization</li>
                                <li>Minimize provider calls</li>
                                <li>Cache data sources where possible</li>
                            </ul>
                        </div>
                    </div>
                    <pre><code class="language-bash"># Performance tuning commands
export TF_CLI_ARGS_plan="-parallelism=20"
export TF_CLI_ARGS_apply="-parallelism=20"

# Target specific resources for faster deployment
terraform apply -target=module.network.aws_vpc.main
terraform apply -target=module.security</code></pre>
                </section>

                <section>
                    <h3>Module Composition Patterns</h3>
                    <pre><code class="language-hcl"># Hierarchical module structure
module "foundation" {
  source = "./modules/foundation"
  
  vpc_cidr             = var.vpc_cidr
  availability_zones   = var.availability_zones
  environment         = var.environment
}

module "security" {
  source = "./modules/security"
  
  vpc_id              = module.foundation.vpc_id
  private_subnet_ids  = module.foundation.private_subnet_ids
  environment        = var.environment
  
  depends_on = [module.foundation]
}

module "applications" {
  source = "./modules/applications"
  
  vpc_id                = module.foundation.vpc_id
  private_subnet_ids    = module.foundation.private_subnet_ids
  app_security_group_id = module.security.app_security_group_id
  db_security_group_id  = module.security.db_security_group_id
  
  depends_on = [module.foundation, module.security]
}</code></pre>
                </section>

                <section>
                    <h3>Terraform Cloud and Enterprise Features</h3>
                    <div class="enterprise">
                        <h4>Terraform Cloud/Enterprise Benefits:</h4>
                        <ul>
                            <li><strong>Remote Execution:</strong> Consistent environment and faster runs</li>
                            <li><strong>Workspace Management:</strong> Centralized state and variable management</li>
                            <li><strong>VCS Integration:</strong> Automated plan/apply from Git commits</li>
                            <li><strong>Policy Enforcement:</strong> Sentinel policy as code</li>
                            <li><strong>Cost Estimation:</strong> Predict infrastructure costs</li>
                            <li><strong>Private Registry:</strong> Share modules securely</li>
                        </ul>
                    </div>
                    <pre><code class="language-hcl"># Terraform Cloud configuration
terraform {
  cloud {
    organization = "company-name"
    
    workspaces {
      name = "production-infrastructure"
    }
  }
  
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
  }
}</code></pre>
                </section>
            </section>

            <!-- Hands-on Activities -->
            <section>
                <section>
                    <h2>üõ†Ô∏è Hands-on Activities</h2>
                </section>

                <section>
                    <h3>Lab 4: Multi-Cloud Infrastructure</h3>
                    <div class="success">
                        <p><strong>Focus:</strong> Multi-Environment Management</p>
                        <p><strong>Objective:</strong> Deploy infrastructure across multiple cloud providers</p>
                    </div>
                    <h4>What you'll build:</h4>
                    <ul>
                        <li>AWS VPC with EC2 instances</li>
                        <li>Azure Virtual Network with Virtual Machines</li>
                        <li>Cross-cloud networking and data sharing</li>
                        <li>Unified monitoring and logging</li>
                    </ul>
                    <p><em>Detailed lab instructions in lab4_multi_cloud_infrastructure.md</em></p>
                </section>

                <section>
                    <h3>Lab 5: CI/CD Integration</h3>
                    <div class="success">
                        <p><strong>Focus:</strong> Enterprise Infrastructure</p>
                        <p><strong>Objective:</strong> Implement comprehensive CI/CD pipeline with Terraform</p>
                    </div>
                    <h4>What you'll build:</h4>
                    <ul>
                        <li>GitHub Actions workflow for Terraform</li>
                        <li>Automated testing and validation</li>
                        <li>Policy enforcement with OPA</li>
                        <li>Blue-green deployment strategy</li>
                    </ul>
                    <p><em>Detailed lab instructions in lab5_cicd_integration.md</em></p>
                </section>

                <section>
                    <h3>GitOps with GitHub and Terraform Cloud</h3>
                    <div class="enterprise">
                        <p><strong>Focus:</strong> VCS-Driven Infrastructure Workflows</p>
                        <p><strong>Objective:</strong> Design and implement a complete enterprise infrastructure solution</p>
                    </div>
                    <h4>Project Components:</h4>
                    <ul>
                        <li>Multi-tier architecture across multiple regions</li>
                        <li>Comprehensive security and compliance framework</li>
                        <li>Automated CI/CD pipeline with testing</li>
                        <li>Monitoring, logging, and alerting</li>
                        <li>Cost optimization and governance</li>
                    </ul>
                </section>
            </section>

            <!-- Enterprise Best Practices -->
            <section>
                <section>
                    <h2>Enterprise Best Practices</h2>
                </section>

                <section>
                    <h3>Organization and Team Structure</h3>
                    <div class="two-column">
                        <div class="column">
                            <h4>Repository Structure</h4>
                            <pre><code class="language-text">terraform-infrastructure/
‚îú‚îÄ‚îÄ environments/
‚îÇ   ‚îú‚îÄ‚îÄ dev/
‚îÇ   ‚îú‚îÄ‚îÄ staging/
‚îÇ   ‚îî‚îÄ‚îÄ production/
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ networking/
‚îÇ   ‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îî‚îÄ‚îÄ applications/
‚îú‚îÄ‚îÄ policies/
‚îÇ   ‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îî‚îÄ‚îÄ cost/
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ deploy.sh
    ‚îî‚îÄ‚îÄ validate.sh</code></pre>
                        </div>
                        <div class="column">
                            <h4>Team Responsibilities</h4>
                            <ul>
                                <li><strong>Platform Team:</strong> Core modules and infrastructure</li>
                                <li><strong>Security Team:</strong> Policies and compliance</li>
                                <li><strong>Application Teams:</strong> Service-specific resources</li>
                                <li><strong>FinOps Team:</strong> Cost optimization</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <h3>Security and Compliance Framework</h3>
                    <div class="danger">
                        <h4>Security Checklist:</h4>
                        <ul>
                            <li>‚úÖ All resources properly tagged</li>
                            <li>‚úÖ Encryption enabled for data at rest</li>
                            <li>‚úÖ Network segmentation implemented</li>
                            <li>‚úÖ IAM permissions follow least privilege</li>
                            <li>‚úÖ Security groups restrict unnecessary access</li>
                            <li>‚úÖ Monitoring and logging enabled</li>
                            <li>‚úÖ Regular security scanning performed</li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h3>Disaster Recovery and Business Continuity</h3>
                    <pre><code class="language-hcl"># Multi-region backup strategy
module "primary_region" {
  source = "./modules/infrastructure"
  
  providers = {
    aws = aws.us_east
  }
  
  environment      = var.environment
  is_primary      = true
  backup_region   = "us-west-2"
}

module "backup_region" {
  source = "./modules/infrastructure"
  
  providers = {
    aws = aws.us_west
  }
  
  environment     = var.environment
  is_primary     = false
  replica_source = module.primary_region.backup_config
}</code></pre>
                </section>
            </section>

            <!-- Summary and Wrap-up -->
            <section>
                <section>
                    <h2>Module 3 Summary</h2>
                    <h3>Advanced Techniques Mastered</h3>
                    <ul>
                        <li><strong>Multi-Cloud:</strong> Strategies for managing infrastructure across providers</li>
                        <li><strong>State Management:</strong> Advanced patterns for large-scale deployments</li>
                        <li><strong>CI/CD Integration:</strong> Automated testing and deployment pipelines</li>
                        <li><strong>Policy as Code:</strong> Governance and compliance automation</li>
                        <li><strong>Performance:</strong> Optimization techniques for enterprise scale</li>
                        <li><strong>Security:</strong> Comprehensive security and compliance frameworks</li>
                    </ul>
                </section>

                <section>
                    <h2>Course Completion</h2>
                    <div class="success">
                        <h3>üéâ Congratulations!</h3>
                        <p>You've completed the comprehensive Terraform training course and are now equipped with:</p>
                        <ul>
                            <li>Deep understanding of Infrastructure as Code principles</li>
                            <li>Hands-on experience with Terraform fundamentals and advanced features</li>
                            <li>Real-world skills for enterprise Terraform deployments</li>
                            <li>Best practices for security, performance, and governance</li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h2>Next Steps and Certification</h2>
                    <div class="info">
                        <h3>Recommended Next Steps:</h3>
                        <ul>
                            <li><strong>HashiCorp Certified:</strong> Terraform Associate certification</li>
                            <li><strong>Advanced Learning:</strong> Terraform Cloud/Enterprise features</li>
                            <li><strong>Specialization:</strong> Focus on specific cloud providers or use cases</li>
                            <li><strong>Community:</strong> Contribute to open-source Terraform modules</li>
                            <li><strong>Practice:</strong> Implement Terraform in your organization</li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h2>Questions & Discussion</h2>
                    <div style="text-align: center; margin-top: 50px;">
                        <h3>Thank you for participating!</h3>
                        <p>Ready to transform your infrastructure management?</p>
                        <br>
                        <h4>Final Lab: Enterprise Infrastructure Project</h4>
                    </div>
                </section>
            </section>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/notes/notes.min.js"></script>
    <script>
        Reveal.initialize({
            // Display configuration optimized for dense content
            width: 1920,
            height: 1080,
            margin: 0.02,
            
            // Scaling configuration for better content fit
            minScale: 0.05,
            maxScale: 4.0,
            
            // Navigation and controls
            hash: true,
            controls: true,
            progress: true,
            center: false,
            touch: true,
            keyboard: true,
            overview: true,
            
            // Transitions
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            
            // Content handling
            embedded: false,
            autoSlide: 0,
            loop: false,
            shuffle: false,
            fragments: true,
            
            // Plugins
            plugins: [ RevealHighlight, RevealNotes ],
            
            // Code highlighting
            highlight: {
                highlightOnLoad: true,
                theme: 'monokai'
            },
            
            // Enhanced keyboard shortcuts
            keyboard: {
                13: 'next', // Enter key
                32: 'next', // Space key
                37: 'left', // Left arrow
                39: 'right', // Right arrow
                38: 'up',   // Up arrow
                40: 'down'  // Down arrow
            }
        });
    </script>
</body>
</html>